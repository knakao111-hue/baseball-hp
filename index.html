<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <title>KAGURA・ベースボールクラブ | 公式サイト</title>
    <link rel="preconnect" href="https://fonts.googleapis.com/css2">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700;900&family=Roboto+Condensed:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css?ver=9">
</head>
<body>
    <header>
        <div class="container">
            <h1>
                <span class="pc-logo">
                    KAGURA BASEBALL CLUB
                    <small class="since">since 2015</small>
                </span>

                <span class="sp-logo">
                    KAGURA B.C.
                    <small class="since">since 2015</small>
                </span>
            </h1>

            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <nav class="global-nav">
                <ul>
                    <li><a href="#about">チーム紹介</a></li>
                    <li><a href="#schedule">スケジュール</a></li>
                    <li><a href="#faq">よくある質問</a></li>
                    <li><a href="#contact">入部希望・お問い合わせ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="hero-slider">
            <div class="slide slide1"></div>
            <div class="slide slide2"></div>
            <div class="slide slide3"></div>
            <div class="slide slide4"></div>
            <div class="slide slide5"></div>
        </div>

        <div class="hero-text">
            <h2>週末を、<br class="sp-br">本気で遊ぼう。</h2>
        </div>
    </section>

    <section id="about" class="container">
        <h2>KAGURA B.C. について</h2>
        <div class="about-text">
    <p class="history"><span id="team-history"></span>年前、最初はたった3人から始まりました。</p>

    <p>
        いまでは、40人ほどの仲間が集う<br>
        甲府市を中心に活動する軟式野球チームです。
    </p>

    <p>
        中心は20代・30代。<br>
        学生や社会人、公務員など、立場はいろいろ。<br>
        共通点は、「野球が好き」ということ。
    </p>

    <p>
        上手いとか、初めてだとかは、<br>
        ここではあまり関係ありません。
    </p>

    <p>
        ここは、<br>
        大人が本気で遊べる場所。<br>
        それが、KAGURA B.C. です。
    </p>
</div>
    </section>

    <section class="numbers-area">
        <div class="container">
            <div class="numbers-grid">
                <div class="number-item">
                    <p class="num-label">創部</p>
                    <div class="num-data">
                        <span class="count-up" id="count-years" data-target="10">0</span>
                        <span class="unit">年</span>
                    </div>
                </div>
                <div class="number-item">
                    <p class="num-label">在籍人数</p>
                    <div class="num-data">
                        <span class="count-up" data-target="45">0</span>
                        <span class="unit">名</span>
                    </div>
                </div>
                <div class="number-item">
                    <p class="num-label">年間試合数</p>
                    <div class="num-data">
                        <span class="count-up" data-target="30">0</span>
                        <span class="unit">試合</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="schedule" class="container bg-gray">
        <h2>直近のスケジュール</h2>

        <div class="fade-in">
            <div id="schedule-list" class="card-wrapper">
                <p style="text-align:center;">スケジュール読み込み中...</p>
            </div>
        </div>
    </section>

    <section id="faq" class="container">
        <h2 class="fade-in">よくある質問</h2>

        <div class="faq-list fade-in">
            <div class="faq-item">
                <div class="faq-question">
                    Q. 野球未経験ですが、参加できますか？
                    <span class="faq-icon">＋</span>
                </div>
                <div class="faq-answer">
                    <p>A. もちろんです！現在のメンバーの3割は大人になってから野球を始めました。キャッチボールから丁寧に教えますのでご安心ください。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    Q. 部費（年会費）はかかりますか？
                    <span class="faq-icon">＋</span>
                </div>
                <div class="faq-answer">
                    <p>A. 年会費は10,000円です。ただし、入部初年度は【無料】としていますので、まずはお気軽に参加してチームの雰囲気を体験してください。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    Q. 具体的な活動内容を教えてください。
                    <span class="faq-icon">＋</span>
                </div>
                <div class="faq-answer">
                    <p>A. 甲府市野球連盟に登録し、年間最大6つの公式戦大会に出場しています。それ以外にも、月に1〜2回程度、練習や他チームとの練習試合を行っています。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    Q. 主な活動場所はどこですか？
                    <span class="faq-icon">＋</span>
                </div>
                <div class="faq-answer">
                    <p>A. メンバーが通いやすいよう、主に甲府市、笛吹市、中央市にある市営グラウンドや野球場を利用しています。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    Q. 個人成績（打率など）は分かりますか？
                    <span class="faq-icon">＋</span>
                </div>
                <div class="faq-answer">
                    <p>A. はい！チーム独自で開発した「スコア管理アプリ」を導入しています。毎試合の成績を集計・公開しているので、自分の成長が数字で見えてモチベーションが上がります。</p>
                </div>
            </div>
            <div class="faq-item">
                <div class="faq-question">
                    Q. チームの運営費（会計）は適正ですか？
                    <span class="faq-icon">＋</span>
                </div>
                <div class="faq-answer">
                    <p>A. はい。皆様から頂いた部費は大切に管理し、毎年必ず会計報告と監査を実施しています。透明性の高いクリーンな運営に努めています。</p>
                </div>
            </div>
        </div>
    </section>

    <section id="contact" class="container" style="text-align: center; padding: 80px 0;">
        <h2 class="fade-in">お問い合わせ・練習試合</h2>
        <div class="fade-in">
            <p style="margin-bottom: 30px; line-height: 1.8;">
                練習試合のお申し込みや、体験入部のご相談は<br>
                以下のフォームよりお気軽にご連絡ください。
            </p>
            
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSckND91cG1TM2i2pmpSJOR1z-OQHRaM2WkAcNNF0D1y5arcuA/viewform?usp=publish-editor" class="btn" target="_blank">
                お問い合わせフォームへ
            </a>
        </div>
    </section>
    <footer>
        <p>&copy; 2026 KAGURA Baseball Club. All Rights Reserved.</p>
    </footer>

    <script>
        // 1. ハンバーガーメニュー
        const hamburger = document.querySelector('.hamburger');
        const nav = document.querySelector('.global-nav');
        
        hamburger.addEventListener('click', function() {
            hamburger.classList.toggle('active');
            nav.classList.toggle('active');
        });

        const navLinks = document.querySelectorAll('.global-nav li a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                nav.classList.remove('active');
            });
        });

        // 2. フェードイン（スクロール監視）
        const options = {
            root: null,
            rootMargin: "0px",
            threshold: 0.2
        };
        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                    observer.unobserve(entry.target);
                }
            });
        }, options);
        document.querySelectorAll('.fade-in').forEach(target => {
            observer.observe(target);
        });

        // 3. アコーディオン（FAQ）
        const faqQuestions = document.querySelectorAll('.faq-question');
        faqQuestions.forEach(question => {
            question.addEventListener('click', () => {
                question.parentNode.classList.toggle('open');
            });
        });

        // 4. 数字のカウントアップ
        const countObserver = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const counter = entry.target;
                    const targetNum = Number(counter.getAttribute('data-target'));
                    let count = 0;
                    const duration = 2000;
                    const interval = 20;
                    const step = targetNum / (duration / interval);
                    
                    const timer = setInterval(() => {
                        count += step;
                        if (count >= targetNum) {
                            count = targetNum;
                            clearInterval(timer);
                        }
                        counter.textContent = Math.floor(count);
                    }, interval);
                    observer.unobserve(counter);
                }
            });
        });
        document.querySelectorAll('.count-up').forEach(num => {
            countObserver.observe(num);
        });

        // 5. 創部年数の自動計算
        document.addEventListener("DOMContentLoaded", function() {
            const startYear = 2015;
            const currentYear = new Date().getFullYear();
            const years = currentYear - startYear;

            const historyText = document.getElementById('team-history');
            if (historyText) {
                historyText.textContent = years;
            }

            const countUpNumber = document.getElementById('count-years');
            if (countUpNumber) {
                countUpNumber.setAttribute('data-target', years);
            }
        });
    </script>

    <script>
    // ▼▼▼ スプレッドシート連携スクリプト ▼▼▼
    
    // 【重要】ここに手順1でコピーしたCSVのURLを貼ってください
    const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vSK94Qb_6a6KMPlQDPBPQAlslkMVq5632bM6CEdR5YL_LJcEH0ap5p9W3B-nmAswHN4GdAPl37QqCWL/pub?gid=0&single=true&output=csv';

    async function fetchSchedule() {
        const container = document.getElementById('schedule-list');
        
        try {
            const res = await fetch(csvUrl);
            // エラー処理
            if (!res.ok) throw new Error('Network response was not ok');
            
            const data = await res.text();
            const rows = data.split('\n').slice(1); // 1行目(ヘッダー)を削除
            
            // 中身を一旦クリア
            container.innerHTML = '';

            if (rows.length === 0 || rows[0] === "") {
                container.innerHTML = '<p style="text-align:center;">現在予定されているスケジュールはありません。</p>';
                return;
            }

            rows.forEach((row, index) => {
                // CSVのカンマ区切りを配列にする（簡易処理）
                const columns = row.split(',');
                
                // 空行対策
                if (columns.length < 4) return;

                // 列の割り当て（ご自身のスプレッドシートに合わせて調整可能）
                // 0:日付, 1:時間, 2:場所, 3:内容
                const date = columns[0].replace(/"/g, ''); // 余分な"を削除
                const time = columns[1].replace(/"/g, '');
                const place = columns[2].replace(/"/g, '');
                const content = columns[3].replace(/"/g, '');

                // カード要素を作成
                const card = document.createElement('div');
                card.className = 'schedule-card';
                
                // 「試合」または「公式戦」または「大会」が含まれていたら...
                if (content.includes('公式戦') || content.includes('大会')) {
                    card.classList.add('match');
                }

                // 順番にアニメーションさせるための遅延設定
                card.style.animationDelay = `${index * 0.15}s`;

                // カードの中身（HTML）
                card.innerHTML = `
                    <div class="card-date">
                        <span class="date-main">${date.split('(')[0]}</span>
                        <span class="date-week">(${date.split('(')[1] || ''}</span>
                    </div>
                    <div class="card-info">
                        <div class="info-title">${content}</div>
                        <div class="info-sub">
                            <span><i class="material-icons">schedule</i> ${time}</span>
                            <span><i class="material-icons">place</i> ${place}</span>
                        </div>
                    </div>
                `;

                container.appendChild(card);
            });

        } catch (error) {
            console.error('スケジュールの読み込みに失敗しました:', error);
            container.innerHTML = '<p style="text-align:center; color:red;">スケジュールの読み込みに失敗しました。</p>';
        }
    }

    // ページ読み込み時に実行
    document.addEventListener("DOMContentLoaded", fetchSchedule);
</script>
</body>
</html>